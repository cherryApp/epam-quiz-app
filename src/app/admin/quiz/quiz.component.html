<form (ngSubmit)="onSubmit(q)" *ngIf="quiz | async; let q" #quizForm="ngForm">
    <div class="form-group">
      <label for="">Name</label>
      <input name="name" [(ngModel)]="q.name" type="text"
        class="form-control" #quizName="ngModel" required>
      <div class="alert alert-danger"
        [hidden]="quizName.valid || quizName.pristine">
        <strong>Hiba: </strong> kötelező mező!
      </div>
    </div>
    <div class="form-group">
      <label for="">Title</label>
      <input name="title" [(ngModel)]="q.title" type="text"
        class="form-control" #quizTitle="ngModel" required>
      <div class="alert alert-danger"
        [hidden]="quizTitle.valid || quizTitle.pristine">
        <strong>Hiba: </strong> kötelező mező!
      </div>
    </div>
    <div class="form-group">
      <label for="">Description</label>
      <input name="description" [(ngModel)]="q.description" type="text"
        class="form-control" #quizDesc="ngModel" required>
      <div class="alert alert-danger"
        [hidden]="quizDesc.valid || quizDesc.pristine">
        <strong>Hiba: </strong> kötelező mező!
      </div>
    </div>
    <div class="form-group list-group">
        <button type="button"
          class="list-group-item list-group-item-action"
          *ngFor="let question of q.questions">
            {{ question.title }}
            <div class="btn-group pull-right">
              <a class="btn btn-info"
                routerLink="/admin/question/{{ question._id }}">
                <i class="fa fa-pencil" aria-hidden="true"></i>
              </a>
              <button type="button" class="btn btn-danger"
                (click)="q.questions.splice(q.questions.indexOf(question), 1)">
                  <i class="fa fa-times" aria-hidden="true"></i>
              </button>
            </div>
          </button>
    </div>
    <div class="form-group">
      <input name="active" [(ngModel)]="q.active" class="form-check-input"
        type="checkbox" id="activeCheck">
      <label class="form-check-label" for="activeCheck">Active</label>
    </div>
    <button class="btn btn-success" type="submit"
      [disabled]="quizForm.invalid || quizForm.pristine">Send</button>

    <!-- <p>{{ q | json }}</p> -->
</form>

<p>{{ output | json }}</p>

